Evaluating test cases...
**************************************************
Contextual Recall Verbose Logs
**************************************************

Verdicts:
[
    {
        "verdict": "no",
        "reason": "The retrieval context only includes one 'email_event' with 'id': 1, while the expected output contains multiple 'email_event' with different 'id' values."
    },
    {
        "verdict": "yes",
        "reason": "Both the retrieval context and the expected output contain 'email_event' with 'operation': 'open' and 'dateCondition' with 'operator': 'anytime' and 'timezone': -330."
    },
    {
        "verdict": "no",
        "reason": "The retrieval context does not specify 'resourceMatchType': 'specificResource' for 'email_event'."
    },
    {
        "verdict": "no",
        "reason": "The retrieval context does not have 'contact_field' with 'fieldId': 'd78c9637-325a-4b58-81fb-b98e186cc6d9' and 'fieldName': 'cf_cf_fdeskcustomerstatus'."
    },
    {
        "verdict": "yes",
        "reason": "The retrieval context contains 'contact_field' with 'fieldId': 'd78c9637-325a-4b58-81fb-b98e186cc6d9', 'fieldName': 'cf_cf_fdeskmrr', 'comparator': 'neq', and 'value': '0' which matches the expected output."
    }
]


Score: 0.4
Reason: The score is 0.40 because the retrieval context matches the expected output in terms of the 'email_event' with 'operation': 'open', 'dateCondition' with 'operator': 'anytime', and 'timezone': -330 (supporting sentence 1), and it also has a 'contact_field' with 'fieldId': 'd78c9637-325a-4b58-81fb-b98e186cc6d9' and 'comparator': 'neq' (supporting sentence 2). However, discrepancies include the retrieval context having only one 'email_event' with 'id': 1, as opposed to the expected output's multiple events with varying 'id' values (unsupportive sentence 1), the omission of 'resourceMatchType': 'specificResource' for 'email_event' (unsupportive sentence 2), and the absence of a 'contact_field' with 'fieldId': 'd78c9637-325a-4b58-81fb-b98e186cc6d9' and 'fieldName': 'cf_cf_fdeskcustomerstatus' (unsupportive sentence 3).

======================================================================
**************************************************
Answer Relevancy Verbose Logs
**************************************************

Statements:
[
    "condition: AND",
    "type: email_event",
    "condition: AND",
    "operation: open",
    "id: 1",
    "resourceMatchType: anyResource",
    "name: count",
    "type: number",
    "operator: greater_than_or_equals",
    "value: 1",
    "operator: anytime",
    "timezone: -330",
    "value: 2024-06-18T13:09:00.108Z",
    "relativeDateCount: 0",
    "type: contact_field",
    "condition: AND",
    "fieldId: b1d0fe09-77dc-48a8-b5ce-e147ccc6a9e2",
    "fieldName: cf_cf_fdeskcustomerstatus",
    "columnName: cf_bigint79",
    "fieldType: number",
    "comparator: eq",
    "value: 127000008364",
    "secondValue: ",
    "repeatAnnually: false",
    "type: contact_field",
    "condition: AND",
    "fieldId: d78c9637-325a-4b58-81fb-b98e186cc6d9",
    "fieldName: cf_cf_fdeskmrr",
    "columnName: cf_bigint91",
    "fieldType: number",
    "comparator: neq",
    "value: 0",
    "secondValue: ",
    "repeatAnnually: false"
]


Verdicts:
[
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "no",
        "reason": "The value '2024-06-18T13:09:00.108Z' does not relate to the requirement of finding contacts based on past email events and their custom field values."
    },
    {
        "verdict": "no",
        "reason": "The 'relativeDateCount: 0' statement does not provide information relevant to the criteria for selecting contacts based on email events and custom field values."
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "no",
        "reason": "The 'repeatAnnually: false' statement does not contribute to the criteria for selecting contacts based on email event activity and custom field values."
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "no",
        "reason": "The 'repeatAnnually: false' statement does not contribute to the criteria for selecting contacts based on email event activity and custom field values."
    }
]


Score: 0.8787878787878788
Reason: The score is 0.88 because some details in the output, such as specific date values and repeat settings, were not directly related to the task of filtering contacts by email event interactions and custom field criteria. However, the majority of the information provided was relevant to the input request.

======================================================================
✨ You're running DeepEval's latest Contextual Recall Metric! (using azure open…
✨ You're running DeepEval's latest Answer Relevancy Metric! (using azure opena…

======================================================================

Metrics Summary

  - ❌ Contextual Recall (score: 0.4, threshold: 0.8, strict: False, evaluation model: azure openai, reason: The score is 0.40 because the retrieval context matches the expected output in terms of the 'email_event' with 'operation': 'open', 'dateCondition' with 'operator': 'anytime', and 'timezone': -330 (supporting sentence 1), and it also has a 'contact_field' with 'fieldId': 'd78c9637-325a-4b58-81fb-b98e186cc6d9' and 'comparator': 'neq' (supporting sentence 2). However, discrepancies include the retrieval context having only one 'email_event' with 'id': 1, as opposed to the expected output's multiple events with varying 'id' values (unsupportive sentence 1), the omission of 'resourceMatchType': 'specificResource' for 'email_event' (unsupportive sentence 2), and the absence of a 'contact_field' with 'fieldId': 'd78c9637-325a-4b58-81fb-b98e186cc6d9' and 'fieldName': 'cf_cf_fdeskcustomerstatus' (unsupportive sentence 3)., error: None)
  - ✅ Answer Relevancy (score: 0.8787878787878788, threshold: 0.6, strict: False, evaluation model: azure openai, reason: The score is 0.88 because some details in the output, such as specific date values and repeat settings, were not directly related to the task of filtering contacts by email event interactions and custom field criteria. However, the majority of the information provided was relevant to the input request., error: None)

For test case:

  - input: Get me contacts who have opened any of the following email events anytime: 'Welcome to Freshdesk. Let's get you started', 'Welcome to Freshdesk. Let's get you started, (Without demo CTA)', 'A sneak-peek into the Freshdesk Experience', 'A sneak-peek into the Freshdesk Experience, (Without demo CTA)', 'Are you ready to make a promise to your customers?', 'Are you ready to make a promise to your customers?, (Without Demo CTA)', 'Automate your redundant support tasks to get more productive', 'Automate your redundant support tasks to get more productive, (Without Demo CTA)', 'Are you meeting your customers’ expectations?', 'Are you meeting your customers’ expectations?, (Without Demo CTA)', 'How do you assign workload to your agents today?', 'How do you assign workload to your agents today?, (Without Demo CTA)', 'How are you measuring your customer support?', 'How are you measuring your customer support?, (Without Demo CTA)', 'Customer support is everyone’s business!', 'Customer support is everyone’s business!, (Without Demo CTA)', 'Connect Freshdesk with your favorite apps today', 'Connect Freshdesk with your favorite apps today, (Without Demo CTA)', 'It's time to choose a Freshdesk plan', 'It's time to choose a Freshdesk plan, (Without Demo CTA)', 'Your Freshdesk trial is ending today!', 'Your Freshdesk trial is ending today, (Without Demo CTA)' and whose custom field 'cf_cf_fdeskcustomerstatus' is '127000008364' and 'cf_cf_fdeskmrr' is not equal to '0'.
  - actual output: {
    "condition": "AND",
    "matchGroups": [
        {
            "condition": "AND",
            "matches": [
                {
                    "type": "email_event",
                    "condition": "AND",
                    "criteria": {
                        "operation": "open",
                        "id": 1,
                        "resourceMatchType": "anyResource",
                        "occurenceCondition": {
                            "name": "count",
                            "type": "number",
                            "operator": "greater_than_or_equals",
                            "value": "1",
                            "dateCondition": {
                                "operator": "anytime",
                                "timezone": -330,
                                "value": "2024-06-18T13:09:00.108Z",
                                "relativeDateCount": 0
                            }
                        }
                    }
                }
            ]
        },
        {
            "condition": "AND",
            "matches": [
                {
                    "type": "contact_field",
                    "condition": "AND",
                    "criteria": {
                        "fieldId": "b1d0fe09-77dc-48a8-b5ce-e147ccc6a9e2",
                        "fieldName": "cf_cf_fdeskcustomerstatus",
                        "columnName": "cf_bigint79",
                        "fieldType": "number",
                        "comparator": "eq",
                        "value": "127000008364",
                        "secondValue": "",
                        "repeatAnnually": false
                    }
                },
                {
                    "type": "contact_field",
                    "condition": "AND",
                    "criteria": {
                        "fieldId": "d78c9637-325a-4b58-81fb-b98e186cc6d9",
                        "fieldName": "cf_cf_fdeskmrr",
                        "columnName": "cf_bigint91",
                        "fieldType": "number",
                        "comparator": "neq",
                        "value": "0",
                        "secondValue": "",
                        "repeatAnnually": false
                    }
                }
            ]
        }
    ]
}
  - expected output: {"condition": "AND", "matchGroups": [{"matches": [{"type": "email_event", "filters": [], "criteria": {"id": 5837, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6095, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6159, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6097, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6104, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6107, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6161, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6163, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6434, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6435, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6171, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6176, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6436, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6450, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6560, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6562, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6557, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6559, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6662, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6663, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6664, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}, {"type": "email_event", "filters": [], "criteria": {"id": 6665, "operation": "open", "dateCondition": {"value": "2019-12-17T18:30:00.000Z", "operator": "anytime", "timezone": -330}, "resourceMatchType": "specificResource"}, "condition": "AND"}], "condition": "OR"}, {"matches": [{"type": "contact_field", "filters": [], "criteria": {"value": "127000008364", "fieldId": "d78c9637-325a-4b58-81fb-b98e186cc6d9", "fieldName": "cf_cf_fdeskcustomerstatus", "fieldType": "dropdown", "columnName": "cf_dropdown_091", "comparator": "eq"}, "condition": "AND"}, {"type": "contact_field", "filters": [], "criteria": {"value": "0", "fieldId": "1ff1c8dd-8bae-4917-8686-d4c7157e60de", "fieldName": "cf_cf_fdeskmrr", "fieldType": "number", "columnName": "cf_decimal_09", "comparator": "neq"}, "condition": "AND"}], "condition": "AND"}]}
  - context: None
  - retrieval context: ['{\n    "condition": "AND",\n    "matchGroups": [\n        {\n            "condition": "AND",\n            "matches": [\n                {\n                    "type": "email_event",\n                    "condition": "AND",\n                    "criteria": {\n                        "operation": "open",\n                        "id": 1,\n                        "resourceMatchType": "anyResource",\n                        "occurenceCondition": {\n                            "name": "count",\n                            "type": "number",\n                            "operator": "greater_than_or_equals",\n                            "value": "1",\n                            "dateCondition": {\n                                "operator": "anytime",\n                                "timezone": -330,\n                                "value": "2024-06-18T13:09:00.108Z",\n                                "relativeDateCount": 0\n                            }\n                        }\n                    }\n                }\n            ]\n        },\n        {\n            "condition": "AND",\n            "matches": [\n                {\n                    "type": "contact_field",\n                    "condition": "AND",\n                    "criteria": {\n                        "fieldId": "b1d0fe09-77dc-48a8-b5ce-e147ccc6a9e2",\n                        "fieldName": "cf_cf_fdeskcustomerstatus",\n                        "columnName": "cf_bigint79",\n                        "fieldType": "number",\n                        "comparator": "eq",\n                        "value": "127000008364",\n                        "secondValue": "",\n                        "repeatAnnually": false\n                    }\n                },\n                {\n                    "type": "contact_field",\n                    "condition": "AND",\n                    "criteria": {\n                        "fieldId": "d78c9637-325a-4b58-81fb-b98e186cc6d9",\n                        "fieldName": "cf_cf_fdeskmrr",\n                        "columnName": "cf_bigint91",\n                        "fieldType": "number",\n                        "comparator": "neq",\n                        "value": "0",\n                        "secondValue": "",\n                        "repeatAnnually": false\n                    }\n                }\n            ]\n        }\n    ]\n}']

======================================================================

Overall Metric Pass Rates

Contextual Recall: 0.00% pass rate
Answer Relevancy: 100.00% pass rate

======================================================================

✅ Tests finished! View results on 
https://app.confident-ai.com/project/clwzxg76s000clc0ch0w2kpcw/unit-tests/cly0wz
iml0764up7n4ytevtag/test-cases
