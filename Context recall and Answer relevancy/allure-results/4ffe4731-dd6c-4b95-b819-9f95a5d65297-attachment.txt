Evaluating test cases...
**************************************************
Contextual Recall Verbose Logs
**************************************************

Verdicts:
[
    {
        "verdict": "no",
        "reason": "The 1st node in the retrieval context specifies a 'date' fieldType and a 'between' comparator with specific 'value' and 'secondValue', not 'last_n_days' as in the expected output."
    },
    {
        "verdict": "yes",
        "reason": "The 2nd node in the retrieval context matches with 'fieldId': '4a44c7d9-4af9-4f41-95b7-aef64a9d884e', 'fieldName': 'cf_cf_fteamcustomerstatus', 'fieldType': 'dropdown', 'comparator': 'eq', and 'value': '127000008971'."
    }
]


Score: 0.5
Reason: The score is 0.50 because the 2nd node in retrieval context matches sentence 2 in the expected output regarding 'fieldId', 'fieldName', 'fieldType', 'comparator', and 'value', but the 1st node in retrieval context does not align with sentence 1 in the expected output concerning 'fieldType' and 'comparator'.

======================================================================
**************************************************
Answer Relevancy Verbose Logs
**************************************************

Statements:
[
    "condition: AND",
    "matchGroups condition: AND",
    "type: contact_field",
    "contact_field condition: AND",
    "fieldId: 456bf883-0b5c-4b22-bc5a-cf038490433b",
    "fieldName: cf_cf_fteamsignupdate",
    "columnName: cf_datetime15",
    "fieldType: date",
    "comparator: between",
    "value: 2024-06-18T13:09:00.108Z",
    "secondValue: 2024-03-20T13:09:00.108Z",
    "type: contact_field",
    "contact_field condition: AND",
    "fieldId: 4a44c7d9-4af9-4f41-95b7-aef64a9d884e",
    "fieldName: cf_cf_fteamcustomerstatus",
    "columnName: cf_bigint109",
    "fieldType: dropdown",
    "comparator: eq",
    "value: 127000008971"
]


Verdicts:
[
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "no",
        "reason": "The 'value: 2024-06-18T13:09:00.108Z' statement is providing a date that does not fit within the 'last 90 days' requirement."
    },
    {
        "verdict": "no",
        "reason": "The 'secondValue: 2024-03-20T13:09:00.108Z' statement is providing a date that does not fit within the 'last 90 days' requirement."
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    }
]


Score: 0.8947368421052632
Reason: The score is 0.89 because the output was largely relevant, but it included dates that are beyond the 'last 90 days' threshold, which does not align with the specific time frame requested in the input.

======================================================================
✨ You're running DeepEval's latest Contextual Recall Metric! (using azure open…
✨ You're running DeepEval's latest Answer Relevancy Metric! (using azure opena…

======================================================================

Metrics Summary

  - ❌ Contextual Recall (score: 0.5, threshold: 0.8, strict: False, evaluation model: azure openai, reason: The score is 0.50 because the 2nd node in retrieval context matches sentence 2 in the expected output regarding 'fieldId', 'fieldName', 'fieldType', 'comparator', and 'value', but the 1st node in retrieval context does not align with sentence 1 in the expected output concerning 'fieldType' and 'comparator'., error: None)
  - ✅ Answer Relevancy (score: 0.8947368421052632, threshold: 0.6, strict: False, evaluation model: azure openai, reason: The score is 0.89 because the output was largely relevant, but it included dates that are beyond the 'last 90 days' threshold, which does not align with the specific time frame requested in the input., error: None)

For test case:

  - input: Get me contacts whose custom field 'cf_cf_fteamsignupdate' is within the last 90 days and whose custom field 'cf_cf_fteamcustomerstatus' is '127000008971'
  - actual output: {
    "condition": "AND",
    "matchGroups": [
        {
            "condition": "AND",
            "matches": [
                {
                    "type": "contact_field",
                    "condition": "AND",
                    "criteria": {
                        "fieldId": "456bf883-0b5c-4b22-bc5a-cf038490433b",
                        "fieldName": "cf_cf_fteamsignupdate",
                        "columnName": "cf_datetime15",
                        "fieldType": "date",
                        "comparator": "between",
                        "value": "2024-06-18T13:09:00.108Z",
                        "secondValue": "2024-03-20T13:09:00.108Z"
                    }
                },
                {
                    "type": "contact_field",
                    "condition": "AND",
                    "criteria": {
                        "fieldId": "4a44c7d9-4af9-4f41-95b7-aef64a9d884e",
                        "fieldName": "cf_cf_fteamcustomerstatus",
                        "columnName": "cf_bigint109",
                        "fieldType": "dropdown",
                        "comparator": "eq",
                        "value": "127000008971"
                    }
                }
            ]
        }
    ]
}
  - expected output: {"condition": "AND", "matchGroups": [{"matches": [{"type": "contact_field", "filters": [], "criteria": {"value": "90", "fieldId": "456bf883-0b5c-4b22-bc5a-cf038490433b", "fieldName": "cf_cf_fteamsignupdate", "fieldType": "date_time", "columnName": "cf_datetime_15", "comparator": "last_n_days"}, "condition": "AND"}, {"type": "contact_field", "filters": [], "criteria": {"value": "127000008971", "fieldId": "4a44c7d9-4af9-4f41-95b7-aef64a9d884e", "fieldName": "cf_cf_fteamcustomerstatus", "fieldType": "dropdown", "columnName": "cf_dropdown_109", "comparator": "eq"}, "condition": "AND"}], "condition": "AND"}]}
  - context: None
  - retrieval context: ['{\n    "condition": "AND",\n    "matchGroups": [\n        {\n            "condition": "AND",\n            "matches": [\n                {\n                    "type": "contact_field",\n                    "condition": "AND",\n                    "criteria": {\n                        "fieldId": "456bf883-0b5c-4b22-bc5a-cf038490433b",\n                        "fieldName": "cf_cf_fteamsignupdate",\n                        "columnName": "cf_datetime15",\n                        "fieldType": "date",\n                        "comparator": "between",\n                        "value": "2024-06-18T13:09:00.108Z",\n                        "secondValue": "2024-03-20T13:09:00.108Z"\n                    }\n                },\n                {\n                    "type": "contact_field",\n                    "condition": "AND",\n                    "criteria": {\n                        "fieldId": "4a44c7d9-4af9-4f41-95b7-aef64a9d884e",\n                        "fieldName": "cf_cf_fteamcustomerstatus",\n                        "columnName": "cf_bigint109",\n                        "fieldType": "dropdown",\n                        "comparator": "eq",\n                        "value": "127000008971"\n                    }\n                }\n            ]\n        }\n    ]\n}']

======================================================================

Overall Metric Pass Rates

Contextual Recall: 0.00% pass rate
Answer Relevancy: 100.00% pass rate

======================================================================

✅ Tests finished! View results on 
https://app.confident-ai.com/project/clwzxg76s000clc0ch0w2kpcw/unit-tests/cly0wu
846075sup7n1ult78j5/test-cases
