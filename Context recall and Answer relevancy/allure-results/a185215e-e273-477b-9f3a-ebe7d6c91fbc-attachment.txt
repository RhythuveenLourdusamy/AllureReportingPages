Evaluating test cases...
**************************************************
Contextual Recall Verbose Logs
**************************************************

Verdicts:
[
    {
        "verdict": "no",
        "reason": "The expected output refers to 'custom_event' types, while the retrieval context refers to 'CUSTOMER_ACTIVITY' type and 'list_membership' type."
    },
    {
        "verdict": "no",
        "reason": "The 'operation' in the expected output is consistently 'not_performed' with 'anytime' operator for the date, which does not match the 'after' operator in the retrieval context."
    },
    {
        "verdict": "no",
        "reason": "The specific event names like 'freshsales_import_csv', 'freshmarketer_journey_created', etc., in the expected output do not appear in the retrieval context."
    },
    {
        "verdict": "no",
        "reason": "The expected output mentions 'freshmarketer_campaign_created', 'freshmarketer_segment_created', and other events which are not found in the retrieval context."
    },
    {
        "verdict": "no",
        "reason": "The expected output includes 'fsales_trial_events' as an event name for multiple criteria which is not present in the retrieval context."
    },
    {
        "verdict": "no",
        "reason": "The 'list_membership' in the expected output has an 'id' of '39294', which does not match the 'id': 3000001441 in the retrieval context."
    }
]


Score: 0.0
Reason: The score is 0.00 because the expected output sentences refer to elements such as 'custom_event' types, specific event names, and 'not_performed' operations with 'anytime' date operators which are not present in the nodes in the retrieval context. Additionally, there is a discrepancy in 'list_membership' id values between the expected output and the retrieval context.

======================================================================
**************************************************
Answer Relevancy Verbose Logs
**************************************************

Statements:
[
    "condition: AND",
    "type: CUSTOMER_ACTIVITY",
    "condition: AND",
    "eventName: fsales_trial_event",
    "operator: after",
    "timezone: -330",
    "value: 2021-06-25T18:30:00.000Z",
    "relativeDateCount: 0",
    "operation: not_performed",
    "name: FIRST_OCCURRENCE",
    "type: date",
    "operator: after",
    "value: 2021-06-25T18:30:00.000Z",
    "operator: anytime",
    "timezone: -330",
    "value: 2024-06-18T13:09:00.108Z",
    "relativeDateCount: 0",
    "type: list_membership",
    "condition: AND",
    "id: 3000001441",
    "resourceMatchType: specificResource",
    "operation: eq"
]


Verdicts:
[
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "no",
        "reason": "The statement 'eventName: fsales_trial_event' contradicts the input requirement, which specifies contacts who did not perform the 'fsales_trial_event' event."
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    },
    {
        "verdict": "yes",
        "reason": null
    }
]


Score: 0.9545454545454546
Reason: The score is 0.95 because the output included a contact associated with 'fsales_trial_event', which the input specifically requested to exclude.

======================================================================
✨ You're running DeepEval's latest Contextual Recall Metric! (using azure open…
✨ You're running DeepEval's latest Answer Relevancy Metric! (using azure opena…

======================================================================

Metrics Summary

  - ❌ Contextual Recall (score: 0.0, threshold: 0.8, strict: False, evaluation model: azure openai, reason: The score is 0.00 because the expected output sentences refer to elements such as 'custom_event' types, specific event names, and 'not_performed' operations with 'anytime' date operators which are not present in the nodes in the retrieval context. Additionally, there is a discrepancy in 'list_membership' id values between the expected output and the retrieval context., error: None)
  - ✅ Answer Relevancy (score: 0.9545454545454546, threshold: 0.6, strict: False, evaluation model: azure openai, reason: The score is 0.95 because the output included a contact associated with 'fsales_trial_event', which the input specifically requested to exclude., error: None)

For test case:

  - input: Get me contacts who did not perform the 'fsales_trial_event' event where the event name is 'freshsales_import_csv', 'freshmarketer_journey_created', 'freshmarketer_campaign_created', 'freshmarketer_segment_created', or 'freshmarketer_landing_page_created', anytime after 2021-06-25T18:30:00.000Z, and who are members of the list 'MC Digital Inclusion List'
  - actual output: {
    "condition": "AND",
    "matchGroups": [
        {
            "condition": "AND",
            "matches": [
                {
                    "type": "CUSTOMER_ACTIVITY",
                    "condition": "AND",
                    "criteria": {
                        "eventName": "fsales_trial_event",
                        "dateCondition": {
                            "operator": "after",
                            "timezone": -330,
                            "value": "2021-06-25T18:30:00.000Z",
                            "relativeDateCount": 0
                        },
                        "operation": "not_performed",
                        "occurenceCondition": {
                            "name": "FIRST_OCCURRENCE",
                            "type": "date",
                            "operator": "after",
                            "value": "2021-06-25T18:30:00.000Z",
                            "dateCondition": {
                                "operator": "anytime",
                                "timezone": -330,
                                "value": "2024-06-18T13:09:00.108Z",
                                "relativeDateCount": 0
                            }
                        }
                    }
                },
                {
                    "type": "list_membership",
                    "condition": "AND",
                    "criteria": {
                        "id": 3000001441,
                        "resourceMatchType": "specificResource",
                        "operation": "eq"
                    }
                }
            ]
        }
    ]
}
  - expected output: {"condition": "AND", "matchGroups": [{"matches": [{"type": "custom_event", "filters": [{"value": "freshsales_import_csv", "fieldId": "name", "fieldName": "name", "fieldType": "string", "columnName": "ef_string_01", "comparator": "eq"}], "criteria": {"eventName": "fsales_trial_event", "operation": "not_performed", "dateCondition": {"value": "2021-06-25T18:30:00.000Z", "operator": "anytime", "timezone": -330}}, "condition": "AND"}, {"type": "custom_event", "filters": [{"value": "freshmarketer_journey_created", "fieldId": "name", "fieldName": "name", "fieldType": "string", "columnName": "ef_string_01", "comparator": "eq"}], "criteria": {"eventName": "fsales_trial_events", "operation": "not_performed", "dateCondition": {"value": "2021-06-25T18:30:00.000Z", "operator": "anytime", "timezone": -330}}, "condition": "AND"}, {"type": "custom_event", "filters": [{"value": "freshmarketer_campaign_created", "fieldId": "name", "fieldName": "name", "fieldType": "string", "columnName": "ef_string_01", "comparator": "eq"}], "criteria": {"eventName": "fsales_trial_events", "operation": "not_performed", "dateCondition": {"value": "2021-06-25T18:30:00.000Z", "operator": "anytime", "timezone": -330}}, "condition": "AND"}, {"type": "custom_event", "filters": [{"value": "freshmarketer_segment_created", "fieldId": "name", "fieldName": "name", "fieldType": "string", "columnName": "ef_string_01", "comparator": "eq"}], "criteria": {"eventName": "fsales_trial_events", "operation": "not_performed", "dateCondition": {"value": "2021-06-25T18:30:00.000Z", "operator": "anytime", "timezone": -330}}, "condition": "AND"}, {"type": "custom_event", "filters": [{"value": "freshmarketer_landing_page_created", "fieldId": "name", "fieldName": "name", "fieldType": "string", "columnName": "ef_string_01", "comparator": "eq"}], "criteria": {"eventName": "fsales_trial_events", "operation": "not_performed", "dateCondition": {"value": "2021-06-25T18:30:00.000Z", "operator": "anytime", "timezone": -330}}, "condition": "AND"}, {"type": "list_membership", "filters": [], "criteria": {"id": "39294", "operation": "eq", "resourceMatchType": "specificResource"}, "condition": "AND"}], "condition": "AND"}]}
  - context: None
  - retrieval context: ['{\n    "condition": "AND",\n    "matchGroups": [\n        {\n            "condition": "AND",\n            "matches": [\n                {\n                    "type": "CUSTOMER_ACTIVITY",\n                    "condition": "AND",\n                    "criteria": {\n                        "eventName": "fsales_trial_event",\n                        "dateCondition": {\n                            "operator": "after",\n                            "timezone": -330,\n                            "value": "2021-06-25T18:30:00.000Z",\n                            "relativeDateCount": 0\n                        },\n                        "operation": "not_performed",\n                        "occurenceCondition": {\n                            "name": "FIRST_OCCURRENCE",\n                            "type": "date",\n                            "operator": "after",\n                            "value": "2021-06-25T18:30:00.000Z",\n                            "dateCondition": {\n                                "operator": "anytime",\n                                "timezone": -330,\n                                "value": "2024-06-18T13:09:00.108Z",\n                                "relativeDateCount": 0\n                            }\n                        }\n                    }\n                },\n                {\n                    "type": "list_membership",\n                    "condition": "AND",\n                    "criteria": {\n                        "id": 3000001441,\n                        "resourceMatchType": "specificResource",\n                        "operation": "eq"\n                    }\n                }\n            ]\n        }\n    ]\n}']

======================================================================

Overall Metric Pass Rates

Contextual Recall: 0.00% pass rate
Answer Relevancy: 100.00% pass rate

======================================================================

✅ Tests finished! View results on 
https://app.confident-ai.com/project/clwzxg76s000clc0ch0w2kpcw/unit-tests/cly0y8
gjj077pup7nb6p8mypc/test-cases
